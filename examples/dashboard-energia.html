<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/pie-chart.png">
  <link rel="icon" type="image/png" href="../assets/img/pie-chart.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Energia no Nordeste do Brasil
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/css/paper-dashboard.css?v=2.0.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="../assets/demo/demo.css" rel="stylesheet" />
</head>
<style>
  #chartdiv1 {
    width: 100%;
    height: 570px;
  }
  #chartdiv2 {
    width: 100%;
    height: 380px;
  }
  #chartdiv3 {
    width: 100%;
    height: 380px;
  }
  #chartdiv4 {
    width: 100%;
    height: 410px;
  }
  #chartdivmap {
    width: 100%;
    height: 380px;
  }
  #numberdiv{
    width: 100%;
    height: 100px;
  }
</style>
<body class="">
  <div class="wrapper ">
    <div class="main-panel">
      <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle"> 
            </div>
            <a class="navbar-brand">
              Energia no Nordeste do Brasil
            </a>
          </div>
        </div>
      </nav>
      <div class="content">
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-4">
                <div class="card ">
                  <div class="card-header">
                    <div class="row">
                      <div class="col-md-5">
                        <img src="/assets/img/renewable-energy.png" class="rounded mx-auto d-block">
                      </div>
                      <div class="col-md-7">
                        <h5 class="card-title"><strong>Total KiloWatts</strong></h5>
                        <h5>
                          <text type="number" id="number1"/>
                        </h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card ">
                  <div class="card-header">
                    <div class="row">
                      <div class="col-md-5">
                        <img src="/assets/img/vegetables.png" class="rounded mx-auto d-block">
                      </div>
                      <div class="col-md-7">
                        <h5 class="card-title"><strong>Total Biomassa</strong></h5>
                        <h5>
                          <text type="number" id="number2"/>
                        </h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card ">
                  <div class="card-header">
                    <div class="row">
                      <div class="col-md-5">
                        <img src="/assets/img/wind-power.png" class="rounded mx-auto d-block">
                      </div>
                      <div class="col-md-7">
                        <h5 class="card-title"><strong>Total Usinas</strong></h5>
                        <h5>
                          <text type="number" id="number3"/>
                        </h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="card ">
                  <div class="card-header ">
                    <div class="card-header">
                      <h5 class="card-title">KPI- Key Performance Indicator</h5>
                    </div>
                    <div class="card-body">
                      <div id="chartdiv4"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card ">
                  <div class="card-header ">
                    <div class="card-header">
                      <h5 class="card-title">Biomassa - Toneladas de produto agrícola (2017)</h5>
                    </div>
                    <div class="card-body">
                      <div id="chartdiv2"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="row">
              <div class="col-md-12">
                <div class="card ">
                  <div class="card-header ">
                    <div class="card-header">
                      <h5 class="card-title">Capacidade Kw/UF (2018)</h5>
                    </div>
                    <div class="card-body">
                      <div id="chartdiv1"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="card ">
              <div class="card-header ">
                <div class="card-header">
                  <h5 class="card-title">Quantidade de usinas por estado e por tipo de empreendimento (2018)</h5>
                </div>
                <div class="card-body">
                  <div id="chartdiv3"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer footer-black  footer-white ">
        <div class="container-fluid">
          <div class="row">
            <div class="credits ml-auto">
            </div>
          </div>
        </div>
        <div class="credits ml-auto">
            <span class="copyright" style="color:blanchedalmond">
              <strong>Dashboard desenvolvido pelos alunos:</strong> Antonio Carlos Martins Pereira Junior, Diego Michael Almeida Santana, Oscálmi Porto Freitas e Rodrigo Akio Otsuka
            </span>
          </div>
      </footer>
    </div>
  </div>
  <!-- amCharts -->
  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/dataviz.js"></script>
  <script src="https://www.amcharts.com/lib/4/maps.js"></script>
  <script src="https://www.amcharts.com/lib/4/geodata/brazilLow.js"></script>
  <!--   Core JS Files   -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chart JS -->
  <script src="../assets/js/plugins/chartjs.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/paper-dashboard.min.js?v=2.0.0" type="text/javascript"></script>
  <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
  <script src="../assets/demo/demo.js"></script>
  <script>
    $.getJSON('/assets/data/capacidadetotal.json', function(data1) {
      total1 = data1.capacidadetotal[0].total;
      $('#number1').val(total1);
      $('#number1').html(total1);
    });

    $.getJSON('/assets/data/biomassatotal.json', function(data2) {
      total2 = data2.biomassatotal[0].total;
      $('#number2').val(total2);
      $('#number2').html(total2);
    });

    $.getJSON('/assets/data/geracaototal.json', function(data3) {
      total3 = data3.geracaototal[0].total;
      $('#number3').val(total3);
      $('#number3').html(total3);
    });

    $(document).ready(function() {
        demo.initChartsPages();
    });

    /*
    * Grafico 1 - id: chartdiv1 
    */
    am4core.useTheme(am4themes_animated);
    var chart_3dcol = am4core.create("chartdiv1", am4charts.XYChart);
    chart_3dcol.dataSource.url = "/assets/data/capacidade.json";
    chart_3dcol.hiddenState.properties.opacity = 0; // this creates initial fade-in

    var categoryAxis = chart_3dcol.xAxes.push(new am4charts.CategoryAxis());
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.dataFields.category = "UF";
    categoryAxis.renderer.minGridDistance = 9;

    var valueAxis = chart_3dcol.yAxes.push(new am4charts.ValueAxis());
    valueAxis.min = 0;
    valueAxis.max = 1.171316282E7;
    valueAxis.strictMinMax = true;
    valueAxis.renderer.minGridDistance = 30;

    // axis break
    var axisBreak = valueAxis.axisBreaks.create();
    axisBreak.startValue = 4000000;
    axisBreak.endValue = 9000000;
    axisBreak.breakSize = 0.05;
    // make break expand on hover
    var hoverState = axisBreak.states.create("hover");
    hoverState.properties.breakSize = 1;
    hoverState.properties.opacity = 0.1;
    hoverState.transitionDuration = 1500;

    axisBreak.defaultState.transitionDuration = 1000;
    var series = chart_3dcol.series.push(new am4charts.ColumnSeries());
    series.dataFields.categoryX = "UF";
    series.dataFields.valueY = "kW";
    series.columns.template.tooltipText = "{valueY.value}";
    series.columns.template.tooltipY = 0;
    series.columns.template.strokeOpacity = 0;
    series.columns.template.propertyFields.fill = "color";
    series.columns.template.adapter.add("fill", function(fill, target) {
    return chart_3dcol.colors.getIndex(target.dataItem.index);
    });

    /*
    * Grafico 2 - id: chartdiv2
    */
    am4core.useTheme(am4themes_animated);
    var chart5 = am4core.create("chartdiv2", am4charts.PieChart3D);
    chart5.dataSource.url = "/assets/data/biomassa.json";
    chart5.hiddenState.properties.opacity = 0;
    chart5.innerRadius = am4core.percent(40);
    chart5.depth = 150;
    
    chart5.legend = new am4charts.Legend();
    chart5.legend.scale = 0.8;
    chart5.legend.position = "right";

    var series = chart5.series.push(new am4charts.PieSeries3D());
    series.labels.template.disabled = true;
    series.ticks.template.disabled = true;
    series.dataFields.value = "Tonelada";
    series.dataFields.depthValue = "Tonelada";
    series.dataFields.category = "UF";
    series.slices.template.cornerRadius = 1;
    series.colors.step = 3;
      
    /*
    * Grafico 3 - id: chartdiv3 
    */
    am4core.useTheme(am4themes_animated);
    var chart4 = am4core.create("chartdiv3", am4charts.XYChart);
    chart4.dataSource.url = "/assets/data/geracao.json";

    // Create category axis
    var categoryAxis4 = chart4.xAxes.push(new am4charts.CategoryAxis());
    categoryAxis4.dataFields.category = "UF";
    categoryAxis4.startLocation = 0;
    categoryAxis4.endLocation = 0.5 ;
    categoryAxis4.renderer.grid.template.location = 0.5;
    categoryAxis4.renderer.minGridDistance = 4;
    categoryAxis4.renderer.labels.template.paddingLeft = 130;
    categoryAxis4.renderer.labels.template.location = 0.0001;
    
    // Create value axis
    var valueAxis4 = chart4.yAxes.push(new am4charts.ValueAxis());
    valueAxis4.title.text = "Quantidade de Usinas";
    valueAxis4.logarithmic = true;
    // valueAxis4.renderer.location = 0;
    // valueAxis4.renderer.minLabelPosition = 0.0001;
    valueAxis4.renderer.inversed = false;

    // Create series
    var series1 = chart4.series.push(new am4charts.LineSeries());
    series1.dataFields.valueY = "UsinaFotovoltaica";
    series1.dataFields.categoryX = "UF";
    series1.name = "Usina Fotovoltaica";
    series1.strokeWidth = 3;
    series1.bullets.push(new am4charts.CircleBullet());
    series1.legendSettings.valueText = "{valueY}";
    series1.visible  = true;
    series1.tooltipText = "{name} em {categoryX}: {valueY}";

    var series2 = chart4.series.push(new am4charts.LineSeries());
    series2.dataFields.valueY = "PequenaCentralHidreletrica";
    series2.dataFields.categoryX = "UF";
    series2.name = 'Pequena Central Hidrelétrica';
    series2.strokeWidth = 3;
    series2.bullets.push(new am4charts.CircleBullet());
    series2.legendSettings.valueText = "{valueY}";
    series2.tooltipText = "{name} em {categoryX}: {valueY}";

    var series3 = chart4.series.push(new am4charts.LineSeries());
    series3.dataFields.valueY = "UsinaEolica";
    series3.dataFields.categoryX = "UF";
    series3.name = 'Usina Eólica';
    series3.strokeWidth = 3;
    series3.bullets.push(new am4charts.CircleBullet());
    series3.legendSettings.valueText = "{valueY}";
    series3.tooltipText = "{name} em {categoryX}: {valueY}";

    var series4 = chart4.series.push(new am4charts.LineSeries());
    series4.dataFields.valueY = "UsinaTermeletricaaGasNatural";
    series4.dataFields.categoryX = "UF";
    series4.name = 'Usina Termelétrica a Gás Natural';
    series4.strokeWidth = 3;
    series4.bullets.push(new am4charts.CircleBullet());
    series4.legendSettings.valueText = "{valueY}";
    series4.tooltipText = "{name} em {categoryX}: {valueY}";

    // Add chart cursor
    chart4.cursor = new am4charts.XYCursor();
    chart4.cursor.behavior = "zoomY";
    // Add legend
    chart4.legend = new am4charts.Legend();

    /* Gráfico 4 */
    am4core.useTheme(am4themes_animated);

    // Create chart instance
    var chart6 = am4core.create("chartdiv4", am4charts.RadarChart);
    chart6.dataSource.url = "/assets/data/ufkpi.json";
    // Make chart not full circle
    chart6.startAngle = -90;
    chart6.endAngle = 180;
    chart6.innerRadius = am4core.percent(10);

    // Set number format
    chart6.numberFormatter.numberFormat = "#.#'%'";

    // Create axes
    var categoryAxis = chart6.yAxes.push(new am4charts.CategoryAxis());
    categoryAxis.dataFields.category = "UF";
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.renderer.grid.template.strokeOpacity = 0;
    categoryAxis.renderer.labels.template.horizontalCenter = "right";
    categoryAxis.renderer.labels.template.fontWeight = 500;
    categoryAxis.renderer.labels.template.fontSize = 8;
    categoryAxis.renderer.labels.template.adapter.add("fill", function(fill, target) {
      return (target.dataItem.index >= 0) ? chart6.colors.getIndex(target.dataItem.index) : fill;
    });
    categoryAxis.renderer.minGridDistance = 10;

    var valueAxis = chart6.xAxes.push(new am4charts.ValueAxis());
    valueAxis.renderer.grid.template.strokeOpacity = 0;
    valueAxis.fontSize = 8;
    valueAxis.min = 0;
    valueAxis.max = 100;
    valueAxis.strictMinMax = true;

    // Create series
    var series1 = chart6.series.push(new am4charts.RadarColumnSeries());
    series1.dataFields.valueX = "full";
    series1.dataFields.categoryY = "UF";
    series1.clustered = false;
    series1.columns.template.fill = new am4core.InterfaceColorSet().getFor("alternativeBackground");
    series1.columns.template.fillOpacity = 0.08;
    series1.columns.template.cornerRadiusTopLeft = 20;
    series1.columns.template.strokeWidth = 0;
    series1.columns.template.radarColumn.cornerRadius = 20;

    var series2 = chart6.series.push(new am4charts.RadarColumnSeries());
    series2.dataFields.valueX = "KPI";
    series2.dataFields.categoryY = "UF";
    series2.clustered = false;
    series2.columns.template.strokeWidth = 0;
    series2.columns.template.tooltipText = "{UF}: [bold]{KPI}[/]";
    series2.columns.template.radarColumn.cornerRadius = 20;

    series2.columns.template.adapter.add("fill", function(fill, target) {
      return chart6.colors.getIndex(target.dataItem.index);
    });

    // Add cursor
    chart6.cursor = new am4charts.RadarCursor();
  </script>
</body>
</html>